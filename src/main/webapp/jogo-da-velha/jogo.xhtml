<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">

<ui:decorate template="/tema/template.xhtml">
    <ui:define name="centro">

        <ui:param name="bean" value="#{jogoDaVelhaBean}"/>
        <style>
            .cell-block {
                width: 100px;
                height: 80px;
                display: inline-block;
                padding: 0;
                margin: 0;
                float: left;
                text-align: center;
            }

            .top-left, .top-right {
                border-bottom: 1px solid black;
            }

            .top-center {
                border-bottom: 1px solid black;
                border-left: 1px solid black;
                border-right: 1px solid black;
            }

            .bottom-center {
                border-left: 1px solid black;
                border-right: 1px solid black;
            }

            .gamePosition {
                width: 100%;
                height: 100%;
                display: block;
                font-size: 50px;
                margin-top: 10px;
            }

        </style>
        <h:form>
            <h2>Jogo da Velha</h2>
            <p:panelGrid columns="2">
                <h:panelGroup>
                    <h3><h:outputText value="Nome do jogadores: "/></h3>
                    <h:panelGrid columns="2">
                        <h:outputLabel value="O"/>
                        <p:inputText value="#{bean.player1.name}"></p:inputText>
                        <h:outputLabel value="X"/>
                        <p:inputText value="#{bean.player2.name}"></p:inputText>
                    </h:panelGrid>
                    <hr/>
                    <p:commandButton action="#{bean.novoJogo}" value="Novo Jogo"
                                     update="panelJogo" style="width: 100%"/>
                </h:panelGroup>
                <h:panelGroup id="panelJogo">
                    <h3>
                        <h:outputText value="É a vez do jogador '#{bean.currentPlayer.name}'"
                                      rendered="#{bean.jogoIniciado}"/>
                        <h:outputText value="Fim de jogo, vencedor é '#{bean.currentPlayer.name}'"
                                      rendered="#{bean.jogoFinalizado}"/>
                        <h:outputText value="Fim de jogo, empate, inicie um novo jogo."
                                      rendered="#{bean.jogoEmpatado}"/>
                    </h3>
                    <div>
                        <div class="cell-block top-left">
                            <h:commandLink styleClass="gamePosition" action="#{bean.marca(0)}"
                                           disabled="#{bean.desabilitaCampo(bean.campo[0])}">
                                <h:outputText value="#{bean.campo[0]}"/>
                                <p:ajax update="panelJogo"/>
                            </h:commandLink>
                        </div>
                        <div class="cell-block top-center">
                            <h:commandLink styleClass="gamePosition" action="#{bean.marca(1)}"
                                           disabled="#{bean.desabilitaCampo(bean.campo[1])}">
                                <h:outputText value="#{bean.campo[1]}"/>
                                <p:ajax update="panelJogo"/>
                            </h:commandLink>
                        </div>
                        <div class="cell-block top-right">
                            <h:commandLink styleClass="gamePosition" action="#{bean.marca(2)}"
                                           disabled="#{bean.desabilitaCampo(bean.campo[2])}">
                                <h:outputText value="#{bean.campo[2]}"/>
                                <p:ajax update="panelJogo"/>
                            </h:commandLink>
                        </div>
                    </div>
                    <div>
                        <div class="cell-block top-left">
                            <h:commandLink styleClass="gamePosition" action="#{bean.marca(3)}"
                                           disabled="#{bean.desabilitaCampo(bean.campo[3])}">
                                <h:outputText value="#{bean.campo[3]}"/>
                                <p:ajax update="panelJogo"/>
                            </h:commandLink>
                        </div>
                        <div class="cell-block top-center">
                            <h:commandLink styleClass="gamePosition" action="#{bean.marca(4)}"
                                           disabled="#{bean.desabilitaCampo(bean.campo[4])}">
                                <h:outputText value="#{bean.campo[4]}"/>
                                <p:ajax update="panelJogo"/>
                            </h:commandLink>
                        </div>
                        <div class="cell-block top-right">
                            <h:commandLink styleClass="gamePosition" action="#{bean.marca(5)}"
                                           disabled="#{bean.desabilitaCampo(bean.campo[5])}">
                                <h:outputText value="#{bean.campo[5]}"/>
                                <p:ajax update="panelJogo"/>
                            </h:commandLink>
                        </div>
                    </div>
                    <div>
                        <div class="cell-block ">
                            <h:commandLink styleClass="gamePosition" action="#{bean.marca(6)}"
                                           disabled="#{bean.desabilitaCampo(bean.campo[6])}">
                                <h:outputText value="#{bean.campo[6]}"/>
                                <p:ajax update="panelJogo"/>
                            </h:commandLink>
                        </div>
                        <div class="cell-block bottom-center">
                            <h:commandLink styleClass="gamePosition" action="#{bean.marca(7)}"
                                           disabled="#{bean.desabilitaCampo(bean.campo[7])}">
                                <h:outputText value="#{bean.campo[7]}"/>
                                <p:ajax update="panelJogo"/>
                            </h:commandLink>
                        </div>
                        <div class="cell-block ">
                            <h:commandLink styleClass="gamePosition" action="#{bean.marca(8)}"
                                           disabled="#{bean.desabilitaCampo(bean.campo[8])}">
                                <h:outputText value="#{bean.campo[8]}"/>
                                <p:ajax update="panelJogo"/>
                            </h:commandLink>
                        </div>
                    </div>
                    <div style="clear: both;height: 20px; width: 100%"></div>
                </h:panelGroup>
            </p:panelGrid>
        </h:form>
    </ui:define>
</ui:decorate>
</html>
